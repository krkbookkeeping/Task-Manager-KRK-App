const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebase-config-C9DRqTjg.js","assets/index.esm-BIp51PkM.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const v="modulepreload",T=function(c){return"/"+c},f={},g=function(e,r,l){let t=Promise.resolve();if(r&&r.length>0){let h=function(s){return Promise.all(s.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var o=h;document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");t=h(r.map(s=>{if(s=T(s),s in f)return;f[s]=!0;const u=s.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${m}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":v,u||(d.as="script"),d.crossOrigin="",d.href=s,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((E,_)=>{d.addEventListener("load",E),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${s}`)))})}))}function n(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return t.then(i=>{for(const a of i||[])a.status==="rejected"&&n(a.reason);return e().catch(n)})},p="taskmanager-theme";class w{constructor(){this.currentTheme="light",this.listeners=[]}init(){const e=this._getStoredTheme();this.currentTheme=e||"light",this._apply(this.currentTheme)}getTheme(){return this.currentTheme}setTheme(e){e!=="light"&&e!=="dark"||(this.currentTheme=e,this._apply(e),this._storeTheme(e),this._notifyListeners(e))}toggle(){const e=this.currentTheme==="dark"?"light":"dark";this.setTheme(e)}onChange(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(r=>r!==e)}}_apply(e){document.documentElement.setAttribute("data-theme",e);const r=document.getElementById("theme-toggle");r&&(r.checked=e==="dark");const l=document.getElementById("theme-label");l&&(l.textContent=e==="dark"?"Dark Mode":"Light Mode");const t=document.getElementById("theme-icon");t&&(t.textContent=e==="dark"?"dark_mode":"light_mode")}_notifyListeners(e){this.listeners.forEach(r=>r(e))}_getStoredTheme(){try{return localStorage.getItem(p)}catch{return null}}_storeTheme(e){try{localStorage.setItem(p,e)}catch{}}}const L=new w;function y(){console.log("Task Manager KRK â€” App initialized"),L.init()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y):y();g(()=>import("./firebase-config-C9DRqTjg.js"),__vite__mapDeps([0,1])).then(async({db:c,auth:e})=>{console.log("Firebase loaded successfully"),window.__firebase={db:c,auth:e};const{onAuthStateChanged:r,signOut:l}=await g(async()=>{const{onAuthStateChanged:n,signOut:o}=await import("./index.esm-BIp51PkM.js").then(i=>i.s);return{onAuthStateChanged:n,signOut:o}},[]);r(e,n=>{if(!n)window.location.href="/login.html";else{console.log("User is signed in:",n.email);const o=document.getElementById("user-avatar");o&&n.displayName?(o.textContent=n.displayName.charAt(0).toUpperCase(),o.setAttribute("data-tooltip",n.displayName)):o&&n.email&&(o.textContent=n.email.charAt(0).toUpperCase(),o.setAttribute("data-tooltip",n.email))}});const t=document.getElementById("user-avatar");t&&(t.style.cursor="pointer",t.addEventListener("click",()=>{confirm("Are you sure you want to sign out?")&&l(e)}))}).catch(c=>{console.warn("Firebase failed to load (UI still works):",c.message)});
